


let imageStorage = multer.diskStorage({
      destination: (req, file, callback) => {
           callback(null, 'public/upload/img')
      },
     filename: (req, file, callback) => {
           callback(null, file.fieldname)
     },
})

let pdfStorage = multer.diskStorage({
      destination: (req, file, callback) => {
             callback(null, 'public/upload/pdf')
      }
})

let uploadImage = multer({ storage : imageStorage });
let uploadPDF = multer({ storage: pdfStorage });

const upload_imagefile = (req, res, next) => {
      uploadImage.single("input-imgfile")
};

const upload_PDFfile = (req, res, next) => {
      uploadPDF.single("create-pdffile")
};


const multer = require('multer');
const storage = require('../../config/storage.config');

let imageStorage = multer.diskStorage(storage.imageStorage);
let pdfStorage = multer.diskStorage(storage.pdfStorage);

let uploadImage = multer({ storage: imageStorage });
let uploadPDF = multer({ storage: pdfStorage });

module.exports = {
    uploadImage: uploadImage,
    uploadPDF: uploadPDF
}

let imageStorage = {
    destination: (req, file, callback) => {
        callback(null, 'public/upload/img')
    },
    filename: (req, file, callback) => {
        callback(null, Date.now() + '-' +file.originalname)
    }
};

let pdfStorage = {
    destination: (req, file, callback) => {
        callback(null, 'public/upload/pdf')
    },
    filename: (req, file, callback) => {
        callback(null, file.fieldname)
    }
}

module.exports = {
    imageStorage: imageStorage,
    pdfStorage: pdfStorage
}